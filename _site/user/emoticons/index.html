<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      用户大头贴接口 &middot; me link
    
  </title>

  <!-- CSS -->
  <link rel="stylesheet" href="/public/css/poole.css">
  <link rel="stylesheet" href="/public/css/syntax.css">
  <link rel="stylesheet" href="/public/css/lanyon.css">
  <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=PT+Serif:400,400italic,700|PT+Sans:400">

  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/public/apple-touch-icon-144-precomposed.png">
  <link rel="shortcut icon" href="/public/favicon.ico">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">
</head>


  <body class="theme-base-0d sidebar-overlay">

    <!-- Target for toggling the sidebar `.sidebar-checkbox` is for regular
     styles, `#sidebar-checkbox` for behavior. -->
<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox">

<!-- Toggleable sidebar -->
<div class="sidebar" id="sidebar">
  <div class="sidebar-item">
    <p>表情me link API(简称me link)是由上海似颜绘科技有限公司开发的国内首款在线卡通形象与动态表情定制接口平台.</p>
  </div>

  <nav class="sidebar-nav">

    

    
    
      
        
      
    
      
    
      
        
          <a class="sidebar-nav-item" href="/">概述</a>
        
      
    
      
        
          <a class="sidebar-nav-item" href="/app/link/">App接入指南</a>
        
      
    
      
        
          <a class="sidebar-nav-item" href="/app/auth/">App认证授权接口</a>
        
      
    
      
        
          <a class="sidebar-nav-item" href="/user/basic/">用户基本接口</a>
        
      
    
      
        
          <a class="sidebar-nav-item" href="/user/roles/">用户角色接口</a>
        
      
    
      
        
          <a class="sidebar-nav-item active" href="/user/emoticons/">用户大头贴接口</a>
        
      
    
      
        
          <a class="sidebar-nav-item" href="/user/expressions/">用户动态表情接口</a>
        
      
    
      
        
          <a class="sidebar-nav-item" href="/materials/">素材接口</a>
        
      
    
      
        
          <a class="sidebar-nav-item" href="/open/">开放接口</a>
        
      
    
      
        
          <a class="sidebar-nav-item" href="/page/">页面接口</a>
        
      
    
      
        
          <a class="sidebar-nav-item" href="/share/">分享接口</a>
        
      
    
      
    <span class="sidebar-nav-item">当前版本 v0.5.9</span>
  </nav>

  <div class="sidebar-item">
    <p>
      &copy;上海似颜绘科技 2014.
    </p>
  </div>
</div>


    <!-- Wrap is the content to shift when toggling the sidebar. We wrap the
         content to avoid any CSS collisions with our real content. -->
    <div class="wrap">
      <div class="masthead">
        <div class="container">
          <label for="sidebar-checkbox" class="sidebar-toggle"></label>

          <h3 class="masthead-title">
            <a href="/" title="Home">me link</a>
            <small>API文档</small>
          </h3>
        </div>
      </div>

      <div class="container content">
        <div class="page">
  <h1 class="page-title">用户大头贴接口</h1>
  <p>用户大头贴相关接口 - *表情me App专用</p>

<h2 id="获取用户大头贴列表">获取用户大头贴列表</h2>

<p>地址:<code>/v1/{app_id}/user/emoticons</code></p>

<p>方法:<code>GET</code></p>

<p>说明:无</p>

<p>参数:</p>

<table><thead>
<tr>
<th style="text-align: left">参数名称</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">说明</th>
<th style="text-align: left">是否必须</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">logintoken</td>
<td style="text-align: left">String</td>
<td style="text-align: left">用户登录令牌识别码</td>
<td style="text-align: left">*是</td>
</tr>
</tbody></table>

<p>返回值:
```json
[
    {
        &quot;id&quot;:123, //大头贴ID
        &quot;img_url&quot;:&quot;大头贴图片地址&quot;,
        &quot;is_default&quot;:true,
        &quot;base_role_id&quot;:&quot;基于角色id&quot;,
        &quot;gender&quot;:&quot;0女1男&quot;,
        &quot;name&quot;:&quot;大头贴名称&quot;,
        &quot;sort&quot;:2, //排序
        &quot;update_time&quot;:&quot;2014-11-28 17:01:47&quot;//更新时间
        &quot;write_time&quot;:&quot;2014-11-28 17:01:47&quot;//创建时间
    }, //...</p>

<p>]
```</p>

<h2 id="获取用户大头贴详情">获取用户大头贴详情</h2>

<p>地址:<code>/v1/{app_id}/user/emoticon/{emoticonid}</code></p>

<p>方法:<code>GET</code></p>

<p>说明:此接口将返回某一个大头贴的详细关联信息</p>

<p>参数:</p>

<table><thead>
<tr>
<th style="text-align: left">参数名称</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">说明</th>
<th style="text-align: left">是否必须</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">logintoken</td>
<td style="text-align: left">String</td>
<td style="text-align: left">用户登录令牌识别码</td>
<td style="text-align: left">*是</td>
</tr>
</tbody></table>

<p>返回值:
<code>json
{
    &quot;id&quot;:123,
    &quot;name&quot;:&quot;大头贴名称&quot;,
    &quot;gender&quot;:0, //0表示女性, 1表示男性
    &quot;img_url&quot;:&quot;大头贴图片地址&quot;,
    &quot;is_default&quot;:true,
    &quot;base_roleid&quot;:111 //此大头贴的来源角色ID
    &quot;sort&quot;:2, //排序
    &quot;update_time&quot;:&quot;2014-11-28 17:01:47&quot;//更新时间
    &quot;write_time&quot;:&quot;2014-11-28 17:01:47&quot;//创建时间
    &quot;materials&quot;:{
       {
            &quot;id&quot;:111,
            &quot;ename&quot;:&quot;唯一标识&quot;, // 这里后台可以录入客户端原来对于某一个素材唯一标识, 免去重复编码
            &quot;adjustment&quot;:{&quot;zoom&quot;:100} //变形, 偏移, 缩放等
       }, //...
    }
}
</code></p>

<h2 id="新增或更新用户大头贴">新增或更新用户大头贴</h2>

<p>地址:<code>/v1/{app_id}/user/emoticon/{emoticonid}</code></p>

<p>方法:<code>POST</code></p>

<p>说明:当传递<code>emoticonid</code>为0时，表示添加此用户的大头贴信息，另外多个<code>materialid</code>根据以下方式传递,</p>

<p>注意:adjustments数组长度必须和material_ids相同，如果没有形变，请留空</p>

<p>参数:</p>

<table><thead>
<tr>
<th style="text-align: left">参数名称</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">说明</th>
<th style="text-align: left">是否必须</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">logintoken</td>
<td style="text-align: left">String</td>
<td style="text-align: left">用户登录令牌识别码</td>
<td style="text-align: left">*是</td>
</tr>
<tr>
<td style="text-align: left">name</td>
<td style="text-align: left">String</td>
<td style="text-align: left">大头贴名称</td>
<td style="text-align: left">*新增必传</td>
</tr>
<tr>
<td style="text-align: left">gender</td>
<td style="text-align: left">Int</td>
<td style="text-align: left">大头贴性别</td>
<td style="text-align: left">*新增必传</td>
</tr>
<tr>
<td style="text-align: left">img_data</td>
<td style="text-align: left">String</td>
<td style="text-align: left">拼接好的大头贴图片（base64字符串）</td>
<td style="text-align: left">*新增必传</td>
</tr>
<tr>
<td style="text-align: left">base_roleid</td>
<td style="text-align: left">Int</td>
<td style="text-align: left">此大头贴的来源角色ID</td>
<td style="text-align: left">*新增必传, 无法修改</td>
</tr>
<tr>
<td style="text-align: left">is_default</td>
<td style="text-align: left">true</td>
<td style="text-align: left">是否为默认大头贴</td>
<td style="text-align: left">否</td>
</tr>
<tr>
<td style="text-align: left">material_ids</td>
<td style="text-align: left">JsonArray</td>
<td style="text-align: left">素材ID列表,[1,2,3,4]</td>
<td style="text-align: left">否</td>
</tr>
<tr>
<td style="text-align: left">adjustments</td>
<td style="text-align: left">JsonArray</td>
<td style="text-align: left">素材变换列表.[&#39;1&#39;,&#39;2&#39;,&#39;3&#39;]</td>
<td style="text-align: left">否</td>
</tr>
</tbody></table>

<p>返回值:
<code>json
{
    &quot;Id&quot;:11, //然后可以根据Id来查询刚才更新的详细信息
}
</code></p>

<h2 id="删除用户大头贴">删除用户大头贴</h2>

<p>地址:<code>/v1/{app_id}/user/emoticon&quot;/{emoticonid}</code></p>

<p>方法:<code>DELETE</code></p>

<p>说明:emoticonid,In,大头贴ID</p>

<p>参数:</p>

<table><thead>
<tr>
<th style="text-align: left">参数名称</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">说明</th>
<th style="text-align: left">是否必须</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">logintoken</td>
<td style="text-align: left">String</td>
<td style="text-align: left">用户登录令牌识别码</td>
<td style="text-align: left">*是</td>
</tr>
<tr>
<td style="text-align: left">name</td>
<td style="text-align: left">String</td>
<td style="text-align: left">大头贴名称</td>
<td style="text-align: left">*是</td>
</tr>
</tbody></table>

<p>返回值:
<code>json
{}
</code></p>

<h2 id="(暂时不需要，设置默认通过更新用户大头贴接口)设置用户默认大头贴">(暂时不需要，设置默认通过更新用户大头贴接口)设置用户默认大头贴</h2>

<p>地址:<code>/user/emoticon/{emoticonid}/default</code></p>

<p>方法:<code>POST</code></p>

<p>说明:设置该用户默认大头贴,emoticonid,Int,大头贴ID</p>

<p>参数:</p>

<table><thead>
<tr>
<th style="text-align: left">参数名称</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">说明</th>
<th style="text-align: left">是否必须</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">logintoken</td>
<td style="text-align: left">String</td>
<td style="text-align: left">用户登录令牌识别码</td>
<td style="text-align: left">*是</td>
</tr>
</tbody></table>

<p>返回值:
```json
{}</p>

</div>

      </div>
    </div>

  </body>
</html>
