<h1 id="me-link-">me Link 文档</h1>
<p><strong>版本</strong> v0.4</p>

<h2 id="app">App接入</h2>

<ul>
  <li>参考<a href="resources/app_link.md">App接入指南</a></li>
</ul>

<h2 id="api">发起API请求</h2>

<p><strong>API根路径</strong> - <code>https://api.stampmeapp.com/{v1}/{appid}/</code>, 其中 <code>/{v1}</code> 为API版本号, <code>{appid}</code> 为应用ID<br />
({appid}的获取方式,参考 <strong>App接入</strong> 部分) 
测试API采用 <code>HTTP</code> 请求方式, 线上API只支持 <code>HTTPS</code>  </p>

<p>若需要请求所有的大头贴素材分组,则在根路径下加上大头贴素材资源的子路径:   https://api.stampmeapp.com/{v1}/{appid}/materials/expression/group.json  </p>

<p>如果是 <code>curl</code> 测试的话,完整的请求如下:  </p>

<p><code>shell
curl -u appid:appsecret -H 'User-Agent: MyApp (yourname@example.com)' https://api.stampmeapp.com/{v1}/{appid}/materials/expression/groups.json
</code>
如果需要创建大头贴素材, 使用的是同一个资源，不同的是需要加上 <code>Content-Type</code> :  </p>

<p><code>shell
curl -u appid:appsecret \
  -H 'Content-Type: Application/json' \
  -H 'User-Agent: MyApp (yourname@example.com)' \
  -d '{ "name": "配饰1" }' \
  https://api.stampmeapp.com/{v1}/{appid}/emoticons/groups.json
</code></p>

<h2 id="section">数据格式</h2>

<p>API仅支持<code>JSON</code>格式, 该<code>JSON</code>数据没有根元素, 其中的属性字段我们采用 <code>snake_case</code> 来描述<br />
当对API使用 <code>POST</code> 和 <code>PUT</code> 方法时, 请在请求头部加入 <code>Content-Type: Application/json; charset=utf-8</code><br />
<strong>所有的API请求以 .json 结尾,代表我们仅接受与返回JSON</strong>  </p>

<h2 id="http">使用HTTP缓存</h2>
<p>为提高接入应用的请求和响应速度,同时降低服务器负载,多数(尤其是数据量大)的返回数据我们会加上 <code>Last-Modified</code> 头部, 当第一次请求
某个资源时,保存该 <code>Last-Modified</code> 值, 后续的请求将该值作为 <code>If-Modified-Since</code> 重新发回服务器,如果资源没有任何变化, 服务器则
返回 <code>304 Not Modified</code>  </p>

<h2 id="section-1">错误处理</h2>

<p>当API服务器遇到问题时,你会看到 5xx 的错误反馈, 举例如下:<br />
* <code>500 API Server Down</code>
* <code>502 Bad Gateway</code>
* <code>503 Service Unavailable</code>
* <code>504 Gateway Timeout</code></p>

<h2 id="api-1">可用API列表</h2>

<ul>
  <li><a href="resources/auth.md">Auth</a> - App认证授权相关接口</li>
  <li><a href="resources/user_basic.md">User Basic</a> - 用户基本接口</li>
  <li><a href="resources/user_roles.md">User Roles</a> - 用户角色相关接口</li>
  <li><a href="resources/user_emoticons.md">User Emoticons</a> - 用户大头贴相关接口</li>
  <li><a href="resources/user_expressions.md">User Expressions</a> - 用户动态表情相关接口</li>
  <li><a href="resources/materials.md">Materials</a> - 分组与素材相关接口(Me App专用)</li>
  <li><a href="resources/open.md">Open</a> - 对外开放数据接口</li>
  <li><a href="resources/page.md">Page</a> - 页面接入接口</li>
</ul>

